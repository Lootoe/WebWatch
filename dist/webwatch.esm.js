import*as e from"rrweb";const t={RESOURE:"ResourceError",CODE:"CodeError",API:"RequestError"},r={CLICK:"Click",ROUTER:"Router Change",API:"Request"},n=[HTMLBodyElement,HTMLHtmlElement];function i(e){if("number"!=typeof e)return"illegalParam";const t=new Date(e),r=t.getFullYear(),n=t.getMonth()+1,i=n<=9?`0${n}`:n,o=t.getDate(),s=o<=9?`0${o}`:o,a=t.getHours(),c=a<=9?`0${a}`:a,u=t.getMinutes(),l=u<=9?`0${u}`:u,h=t.getSeconds();return`${r}-${i}-${s} ${c}:${l}:${h<=9?`0${h}`:h}`}const o=new XMLSerializer;function s(e,t,r){const n=JSON.stringify(t),i=new AbortController,o=i.signal;fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},signal:o,body:n}).catch((e=>{i.abort("fecth失败，中断请求"),r(e)}))}let a={};function c(e){a.handleClickEvent=t=>{const i=t.target.constructor;if(n.includes(i))return;const s=function(e){const t=e.cloneNode(!1);return o.serializeToString(t).replace(/xmlns\S+xhtml"\s{1}/,"")}(t.target),a=function(e){return{clickPos:[e.screenX,e.screenY],pointerType:e.pointerType}}(t),c={type:r.CLICK,detail:{dom:s,...a}};e&&e(c)},window.addEventListener("click",a.handleClickEvent)}function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var h={exports:{}},d={},p={},g={},f={},m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");f.encode=function(e){if(0<=e&&e<m.length)return m[e];throw new TypeError("Must be between 0 and 63: "+e)},f.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var v=f;g.encode=function(e){var t,r="",n=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&n,(n>>>=5)>0&&(t|=32),r+=v.encode(t)}while(n>0);return r},g.decode=function(e,t,r){var n,i,o,s,a=e.length,c=0,u=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=v.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&i),c+=(i&=31)<<u,u+=5}while(n);r.value=(s=(o=c)>>1,1==(1&o)?-s:s),r.rest=t};var y={};!function(e){e.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function n(e){var r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(t){var r=t,o=n(t);if(o){if(!o.path)return t;r=o.path}for(var s,a=e.isAbsolute(r),c=r.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(r=c.join("/"))&&(r=a?"/":"."),o?(o.path=r,i(o)):r}function s(e,t){""===e&&(e="."),""===t&&(t=".");var s=n(t),a=n(e);if(a&&(e=a.path||"/"),s&&!s.scheme)return a&&(s.scheme=a.scheme),i(s);if(s||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var c="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c}e.urlParse=n,e.urlGenerate=i,e.normalize=o,e.join=s,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?c:function(e){return u(e)?"$"+e:e},e.fromSetString=a?c:function(e){return u(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,r){var n=l(e.source,t.source);return 0!==n||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)||r||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=e.generatedLine-t.generatedLine)?n:l(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=l(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=l(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:l(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var a=n(r);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var c=a.path.lastIndexOf("/");c>=0&&(a.path=a.path.substring(0,c+1))}t=s(i(a),t)}return o(t)}}(y);var w={},_=y,b=Object.prototype.hasOwnProperty,S="undefined"!=typeof Map;function M(){this._array=[],this._set=S?new Map:Object.create(null)}M.fromArray=function(e,t){for(var r=new M,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},M.prototype.size=function(){return S?this._set.size:Object.getOwnPropertyNames(this._set).length},M.prototype.add=function(e,t){var r=S?e:_.toSetString(e),n=S?this.has(e):b.call(this._set,r),i=this._array.length;n&&!t||this._array.push(e),n||(S?this._set.set(e,i):this._set[r]=i)},M.prototype.has=function(e){if(S)return this._set.has(e);var t=_.toSetString(e);return b.call(this._set,t)},M.prototype.indexOf=function(e){if(S){var t=this._set.get(e);if(t>=0)return t}else{var r=_.toSetString(e);if(b.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},M.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},M.prototype.toArray=function(){return this._array.slice()},w.ArraySet=M;var C={},E=y;function A(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}A.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},A.prototype.add=function(e){var t,r,n,i,o,s;t=this._last,r=e,n=t.generatedLine,i=r.generatedLine,o=t.generatedColumn,s=r.generatedColumn,i>n||i==n&&s>=o||E.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},A.prototype.toArray=function(){return this._sorted||(this._array.sort(E.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},C.MappingList=A;var O=g,R=y,x=w.ArraySet,L=C.MappingList;function P(e){e||(e={}),this._file=R.getArg(e,"file",null),this._sourceRoot=R.getArg(e,"sourceRoot",null),this._skipValidation=R.getArg(e,"skipValidation",!1),this._sources=new x,this._names=new x,this._mappings=new L,this._sourcesContents=null}P.prototype._version=3,P.fromSourceMap=function(e){var t=e.sourceRoot,r=new P({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=R.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var i=n;null!==t&&(i=R.relative(t,n)),r._sources.has(i)||r._sources.add(i);var o=e.sourceContentFor(n);null!=o&&r.setSourceContent(n,o)})),r},P.prototype.addMapping=function(e){var t=R.getArg(e,"generated"),r=R.getArg(e,"original",null),n=R.getArg(e,"source",null),i=R.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},P.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=R.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[R.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[R.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},P.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var i=this._sourceRoot;null!=i&&(n=R.relative(i,n));var o=new x,s=new x;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=r&&(t.source=R.join(r,t.source)),null!=i&&(t.source=R.relative(i,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||o.has(c)||o.add(c);var u=t.name;null==u||s.has(u)||s.add(u)}),this),this._sources=o,this._names=s,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=R.join(r,t)),null!=i&&(t=R.relative(i,t)),this.setSourceContent(t,n))}),this)},P.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},P.prototype._serializeMappings=function(){for(var e,t,r,n,i=0,o=1,s=0,a=0,c=0,u=0,l="",h=this._mappings.toArray(),d=0,p=h.length;d<p;d++){if(e="",(t=h[d]).generatedLine!==o)for(i=0;t.generatedLine!==o;)e+=";",o++;else if(d>0){if(!R.compareByGeneratedPositionsInflated(t,h[d-1]))continue;e+=","}e+=O.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=O.encode(n-u),u=n,e+=O.encode(t.originalLine-1-a),a=t.originalLine-1,e+=O.encode(t.originalColumn-s),s=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=O.encode(r-c),c=r)),l+=e}return l},P.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=R.relative(t,e));var r=R.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},P.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},P.prototype.toString=function(){return JSON.stringify(this.toJSON())},p.SourceMapGenerator=P;var F={},k={};!function(e){function t(r,n,i,o,s,a){var c=Math.floor((n-r)/2)+r,u=s(i,o[c],!0);return 0===u?c:u>0?n-c>1?t(c,n,i,o,s,a):a==e.LEAST_UPPER_BOUND?n<o.length?n:-1:c:c-r>1?t(r,c,i,o,s,a):a==e.LEAST_UPPER_BOUND?c:r<0?-1:r}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(r,n,i,o){if(0===n.length)return-1;var s=t(-1,n.length,r,n,i,o||e.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(n[s],n[s-1],!0);)--s;return s}}(k);var B={};function T(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function N(e,t,r,n){if(r<n){var i=r-1;T(e,(c=r,u=n,Math.round(c+Math.random()*(u-c))),n);for(var o=e[n],s=r;s<n;s++)t(e[s],o)<=0&&T(e,i+=1,s);T(e,i+1,s);var a=i+1;N(e,t,r,a-1),N(e,t,a+1,n)}var c,u}B.quickSort=function(e,t){N(e,t,0,e.length-1)};var j=y,I=k,U=w.ArraySet,q=g,G=B.quickSort;function D(e,t){var r=e;return"string"==typeof e&&(r=j.parseSourceMapInput(e)),null!=r.sections?new V(r,t):new z(r,t)}function z(e,t){var r=e;"string"==typeof e&&(r=j.parseSourceMapInput(e));var n=j.getArg(r,"version"),i=j.getArg(r,"sources"),o=j.getArg(r,"names",[]),s=j.getArg(r,"sourceRoot",null),a=j.getArg(r,"sourcesContent",null),c=j.getArg(r,"mappings"),u=j.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=j.normalize(s)),i=i.map(String).map(j.normalize).map((function(e){return s&&j.isAbsolute(s)&&j.isAbsolute(e)?j.relative(s,e):e})),this._names=U.fromArray(o.map(String),!0),this._sources=U.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map((function(e){return j.computeSourceURL(s,e,t)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=u}function W(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function V(e,t){var r=e;"string"==typeof e&&(r=j.parseSourceMapInput(e));var n=j.getArg(r,"version"),i=j.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new U,this._names=new U;var o={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=j.getArg(e,"offset"),n=j.getArg(r,"line"),i=j.getArg(r,"column");if(n<o.line||n===o.line&&i<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=r,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new D(j.getArg(e,"map"),t)}}))}D.fromSourceMap=function(e,t){return z.fromSourceMap(e,t)},D.prototype._version=3,D.prototype.__generatedMappings=null,Object.defineProperty(D.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),D.prototype.__originalMappings=null,Object.defineProperty(D.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),D.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},D.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},D.GENERATED_ORDER=1,D.ORIGINAL_ORDER=2,D.GREATEST_LOWER_BOUND=1,D.LEAST_UPPER_BOUND=2,D.prototype.eachMapping=function(e,t,r){var n,i=t||null;switch(r||D.GENERATED_ORDER){case D.GENERATED_ORDER:n=this._generatedMappings;break;case D.ORIGINAL_ORDER:n=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;n.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=j.computeSourceURL(o,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},D.prototype.allGeneratedPositionsFor=function(e){var t=j.getArg(e,"line"),r={source:j.getArg(e,"source"),originalLine:t,originalColumn:j.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var n=[],i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",j.compareByOriginalPositions,I.LEAST_UPPER_BOUND);if(i>=0){var o=this._originalMappings[i];if(void 0===e.column)for(var s=o.originalLine;o&&o.originalLine===s;)n.push({line:j.getArg(o,"generatedLine",null),column:j.getArg(o,"generatedColumn",null),lastColumn:j.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var a=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==a;)n.push({line:j.getArg(o,"generatedLine",null),column:j.getArg(o,"generatedColumn",null),lastColumn:j.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return n},F.SourceMapConsumer=D,z.prototype=Object.create(D.prototype),z.prototype.consumer=D,z.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=j.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},z.fromSourceMap=function(e,t){var r=Object.create(z.prototype),n=r._names=U.fromArray(e._names.toArray(),!0),i=r._sources=U.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return j.computeSourceURL(r.sourceRoot,e,t)}));for(var o=e._mappings.toArray().slice(),s=r.__generatedMappings=[],a=r.__originalMappings=[],c=0,u=o.length;c<u;c++){var l=o[c],h=new W;h.generatedLine=l.generatedLine,h.generatedColumn=l.generatedColumn,l.source&&(h.source=i.indexOf(l.source),h.originalLine=l.originalLine,h.originalColumn=l.originalColumn,l.name&&(h.name=n.indexOf(l.name)),a.push(h)),s.push(h)}return G(r.__originalMappings,j.compareByOriginalPositions),r},z.prototype._version=3,Object.defineProperty(z.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),z.prototype._parseMappings=function(e,t){for(var r,n,i,o,s,a=1,c=0,u=0,l=0,h=0,d=0,p=e.length,g=0,f={},m={},v=[],y=[];g<p;)if(";"===e.charAt(g))a++,g++,c=0;else if(","===e.charAt(g))g++;else{for((r=new W).generatedLine=a,o=g;o<p&&!this._charIsMappingSeparator(e,o);o++);if(i=f[n=e.slice(g,o)])g+=n.length;else{for(i=[];g<o;)q.decode(e,g,m),s=m.value,g=m.rest,i.push(s);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");f[n]=i}r.generatedColumn=c+i[0],c=r.generatedColumn,i.length>1&&(r.source=h+i[1],h+=i[1],r.originalLine=u+i[2],u=r.originalLine,r.originalLine+=1,r.originalColumn=l+i[3],l=r.originalColumn,i.length>4&&(r.name=d+i[4],d+=i[4])),y.push(r),"number"==typeof r.originalLine&&v.push(r)}G(y,j.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,G(v,j.compareByOriginalPositions),this.__originalMappings=v},z.prototype._findMapping=function(e,t,r,n,i,o){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return I.search(e,t,i,o)},z.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},z.prototype.originalPositionFor=function(e){var t={generatedLine:j.getArg(e,"line"),generatedColumn:j.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",j.compareByGeneratedPositionsDeflated,j.getArg(e,"bias",D.GREATEST_LOWER_BOUND));if(r>=0){var n=this._generatedMappings[r];if(n.generatedLine===t.generatedLine){var i=j.getArg(n,"source",null);null!==i&&(i=this._sources.at(i),i=j.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var o=j.getArg(n,"name",null);return null!==o&&(o=this._names.at(o)),{source:i,line:j.getArg(n,"originalLine",null),column:j.getArg(n,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},z.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},z.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var n,i=e;if(null!=this.sourceRoot&&(i=j.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(n=j.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')},z.prototype.generatedPositionFor=function(e){var t=j.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:j.getArg(e,"line"),originalColumn:j.getArg(e,"column")},n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",j.compareByOriginalPositions,j.getArg(e,"bias",D.GREATEST_LOWER_BOUND));if(n>=0){var i=this._originalMappings[n];if(i.source===r.source)return{line:j.getArg(i,"generatedLine",null),column:j.getArg(i,"generatedColumn",null),lastColumn:j.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},F.BasicSourceMapConsumer=z,V.prototype=Object.create(D.prototype),V.prototype.constructor=D,V.prototype._version=3,Object.defineProperty(V.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),V.prototype.originalPositionFor=function(e){var t={generatedLine:j.getArg(e,"line"),generatedColumn:j.getArg(e,"column")},r=I.search(t,this._sections,(function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},V.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},V.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},V.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(j.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n)return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},V.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],i=n.consumer._generatedMappings,o=0;o<i.length;o++){var s=i[o],a=n.consumer._sources.at(s.source);a=j.computeSourceURL(n.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var c=null;s.name&&(c=n.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var u={source:a,generatedLine:s.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(n.generatedOffset.generatedLine===s.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}G(this.__generatedMappings,j.compareByGeneratedPositionsDeflated),G(this.__originalMappings,j.compareByOriginalPositions)},F.IndexedSourceMapConsumer=V;var H={},$=p.SourceMapGenerator,Q=y,J=/(\r?\n)/,Z="$$$isSourceNode$$$";function X(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[Z]=!0,null!=n&&this.add(n)}X.fromStringWithSourceMap=function(e,t,r){var n=new X,i=e.split(J),o=0,s=function(){return e()+(e()||"");function e(){return o<i.length?i[o++]:void 0}},a=1,c=0,u=null;return t.eachMapping((function(e){if(null!==u){if(!(a<e.generatedLine)){var t=(r=i[o]||"").substr(0,e.generatedColumn-c);return i[o]=r.substr(e.generatedColumn-c),c=e.generatedColumn,l(u,t),void(u=e)}l(u,s()),a++,c=0}for(;a<e.generatedLine;)n.add(s()),a++;if(c<e.generatedColumn){var r=i[o]||"";n.add(r.substr(0,e.generatedColumn)),i[o]=r.substr(e.generatedColumn),c=e.generatedColumn}u=e}),this),o<i.length&&(u&&l(u,s()),n.add(i.splice(o).join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=Q.join(r,e)),n.setSourceContent(e,i))})),n;function l(e,t){if(null===e||void 0===e.source)n.add(t);else{var i=r?Q.join(r,e.source):e.source;n.add(new X(e.originalLine,e.originalColumn,i,t,e.name))}}},X.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[Z]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},X.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[Z]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},X.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[Z]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},X.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},X.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[Z]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},X.prototype.setSourceContent=function(e,t){this.sourceContents[Q.toSetString(e)]=t},X.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][Z]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(Q.fromSetString(n[t]),this.sourceContents[n[t]])},X.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},X.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new $(e),n=!1,i=null,o=null,s=null,a=null;return this.walk((function(e,c){t.code+=e,null!==c.source&&null!==c.line&&null!==c.column?(i===c.source&&o===c.line&&s===c.column&&a===c.name||r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),i=c.source,o=c.line,s=c.column,a=c.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,n=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(i=null,n=!1):n&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},H.SourceNode=X,d.SourceMapGenerator=p.SourceMapGenerator,d.SourceMapConsumer=F.SourceMapConsumer,d.SourceNode=H.SourceNode;var K={exports:{}};const Y="undefined"!=typeof window&&window.window===window&&window.navigator,ee=Y?window.location.href:process.cwd(),te=new RegExp("^((https|http)://)?[a-z0-9A-Z]{3}.[a-z0-9A-Z][a-z0-9A-Z]{0,61}?[a-z0-9A-Z].com|net|cn|cc (:s[0-9]{1-4})?/$"),re=K.exports={concat(e,t){const r="/"===e[e.length-1],n="/"===t[0];return e+(r||n?"":"/")+(r&&n?t.substring(1):t)},resolve:e=>re.isAbsolute(e)?re.normalize(e):re.normalize(re.concat(ee,e)),normalize(e){let t=[],r=0;e.split("/").reverse().filter((e=>"."!==e)).forEach((e=>{".."===e?r++:0===r?t.push(e):r--}));const n=t.reverse().join("/");return(Y&&"/"===n[0]?"/"===n[1]?window.location.protocol:window.location.origin:"")+n},isData:e=>0===e.indexOf("data:"),isURL:e=>te.test(e),isAbsolute:e=>"/"===e[0]||/^[^\/]*:/.test(e),relativeToFile:(e,t)=>re.isData(e)||re.isAbsolute(t)?re.normalize(t):re.normalize(re.concat(e.split("/").slice(0,-1).join("/"),t))};var ne=K.exports,ie=function(e){if(!/^data\:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");for(var r=e.substring(5,t).split(";"),n=r[0]||"text/plain",i=n,o=!1,s="",a=1;a<r.length;a++)"base64"==r[a]?o=!0:(i+=";"+r[a],0==r[a].indexOf("charset=")&&(s=r[a].substring(8)));r[0]||s.length||(i+=";charset=US-ASCII",s="US-ASCII");var c=unescape(e.substring(t+1)),u=o?"base64":"ascii",l=Buffer.from?Buffer.from(c,u):new Buffer(c,u);return l.type=n,l.typeFull=i,l.charset=s,l};const{assign:oe}=Object,se="undefined"!=typeof window&&window.window===window&&window.navigator,ae=d.SourceMapConsumer,ce=class e{constructor(e){try{e((e=>{this.setValue(e,!1)}),(e=>{this.setValue(e,!0)}))}catch(e){this.setValue(e,!0)}}setValue(t,r){this.val=t instanceof e?t.val:t,this.rejected=r||t instanceof e&&t.rejected}static valueFrom(t){if(t instanceof e){if(t.rejected)throw t.val;return t.val}return t}then(t){try{if(!this.rejected)return e.resolve(t(this.val))}catch(t){return e.reject(t)}return this}catch(t){try{if(this.rejected)return e.resolve(t(this.val))}catch(t){return e.reject(t)}return this}static resolve(t){return new e((e=>{e(t)}))}static reject(t){return new e(((e,r)=>{r(t)}))}},ue=ne,le=ie,he=se?null:l,de=e=>{const t=r=>r in t.cache?t.cache[r]:t.cache[r]=e(r);return t.forgetEverything=()=>{t.cache=Object.create(null)},t.cache=Object.create(null),t};function pe(e,t){const r=t?ce:Promise,n=de((t=>i(t,e(t))));function i(e,o){return void 0===o?n(ue.resolve(e)):r.resolve(o).then((r=>{let n,o,s,a=e=>(s=s||function(e){const t=/\u0023 sourceMappingURL=(.+)\n?/g;let r;for(;;){const n=t.exec(e.text);if(!n)break;r=n}const n=r&&r[1],o=t=>oe({},t,{sourceFile:e,sourceLine:e.lines[t.line-1]||""});return n?function(e,t,r){const n=t.startsWith("data:")?i(e,le(t).toString()):i(ue.relativeToFile(e,t)),o=n.then((e=>ae(JSON.parse(e.text)))),s=de((function(e){return n.then((t=>{const r=ue.relativeToFile(t.path,e);return o.then((t=>i(r,t.sourceContentFor(e,!0)||void 0)))}))}));return e=>o.then((t=>{const n=t.originalPositionFor(e);return n.source?s(n.source).then((t=>t._resolve(oe({},e,{line:n.line,column:n.column+1,name:n.name})))):r(e)})).catch((t=>oe(r(e),{sourceMapError:t})))}(e.path,n,o):o}(n))(e);return n={path:e,text:r,get lines(){return o=o||r.split("\n")},resolve(e){const r=a(e);if(!t)return Promise.resolve(r);try{return ce.valueFrom(r)}catch(t){return oe({},e,{error:t})}},_resolve:a}}))}return oe((function(e){const r=i(e);if(t)try{return ce.valueFrom(r)}catch(t){const r={path:e,text:"",lines:[],error:t,resolve:e=>oe({},e,{error:t,sourceLine:"",sourceFile:r})};return r}return r}),{resetCache:()=>n.forgetEverything(),getCache:()=>n.cache})}h.exports=pe((function(e){return new ce((t=>{if(se){let r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t(r.responseText)}else t(he("fs").readFileSync(e,{encoding:"utf8"}))}))}),!0),h.exports.async=pe((function(e){return new Promise(((t,r)=>{if(se){let n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=e=>{4===n.readyState&&(200===n.status?t(n.responseText):r(new Error(n.statusText)))},n.send(null)}else he("fs").readFile(e,{encoding:"utf8"},((e,n)=>{e?r(e):t(n)}))}))}));var ge=h.exports,fe={exports:{}};function me(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}!function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};const r="[][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",n="\0-\b\v-­​\u2028\u2029\ufeff︀-️",i="\n"+n,o=new RegExp("(?:"+r+")|["+n+"]","g"),s=new RegExp("(?:"+r+")|["+i+"]","g"),a=new RegExp("((?:"+r+")|[\t"+i+"])?([^\t"+i+"]*)","g");e.exports={zeroWidthCharacters:s,ansiEscapeCodes:new RegExp(r,"g"),strlen:e=>Array.from(e.replace(s,"")).length,isBlank:e=>0===e.replace(s,"").replace(/\s/g,"").length,blank:e=>Array.from(e.replace(o,"")).map((e=>"\t"===e||"\n"===e?e:" ")).join(""),partition(e){for(var t,r=[];a.lastIndex!==e.length&&(t=a.exec(e));)r.push([t[1]||"",t[2]]);return a.lastIndex=0,r},first(r,n){let i="",o=0;for(const a of e.exports.partition(r)){var s=t(a,2);const e=s[0],r=s[1],c=Array.from(r).slice(0,n-o);i+=e+c.join(""),o+=c.length}return i}}}(fe);const ve=Object;var ye=fe.exports;const we=ye.first,_e=ye.strlen,be=(e,t)=>{const r=(e,t)=>e.reduce(((e,t)=>t.map(((t,r)=>[].concat(me(e[r]||[]),[t])))),[]).map((e=>t.apply(void 0,me(e)))),n=e.map((e=>e.map((e=>e.replace(/\n/g,"\\n"))))),i=n.map((e=>e.map(_e))),o=r(i,Math.max),s=ve.assign({delimiter:"  ",minColumnWidths:o.map((e=>0)),maxTotalWidth:0},t),a=_e(s.delimiter),c=o.reduce(((e,t)=>e+t),0),u=o.map((e=>e/c)),l=s.maxTotalWidth-a*(o.length-1),h=Math.max(0,c-l),d=r([s.minColumnWidths,o,u],((e,t,r)=>Math.max(e,Math.floor(t-h*r)))),p=i.map((e=>r([d,e],((e,t)=>e-t))));return r([n,p],((e,t)=>r([e,t],((e,t)=>{return t>=0?s.right?" ".repeat(t)+e:e+" ".repeat(t):(r=e,n=_e(e)+t,we(r,n-1)+"…");var r,n})).join(s.delimiter)))},Se=e=>ve.assign((t=>{var r;if(t[0]&&Array.isArray(t[0]))return be(t.map((t=>t.map(((t,r)=>void 0===t?"":e.print(t,r))))),e).join("\n");const n=[].concat(me(new Set((r=[]).concat.apply(r,me(t.map(ve.keys)))))),i=[n.map(e.title)].concat(me(t.map((t=>n.map((r=>void 0===t[r]?"":e.print(t[r],r))))))),o=be(i,e);return(e.dash?[o[0],e.dash.repeat(_e(o[0]))].concat(me(o.slice(1))):o).join("\n")}),e,{configure:t=>Se(ve.assign({},e,t))});var Me=Se({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1});const Ce=Object,Ee="undefined"!=typeof window&&window.window===window&&window.navigator,Ae=Ee?null:l,Oe=e=>e[e.length-1],Re=ge,xe=(e,t)=>{const r=e||[],n=[];let i={label:void 0,items:[r.first]};return r.forEach((e=>{const r=t(e);i.label!==r&&i.items.length?n.push(i={label:r,items:[e]}):i.items.push(e)})),n},Le=Me,Pe=e=>e.replace(/\\/g,"/"),Fe=Ee?window.location.href:Pe(process.cwd())+"/";class ke{constructor(e,t){const r=e,n=e&&e instanceof SyntaxError&&!Ee;if(e||(e=new Error,t=void 0===t?1:t),e instanceof Error&&(e=e.stack||""),"string"==typeof e&&(e=this.rawParse(e).slice(t).map((e=>this.extractEntryMetadata(e)))),Array.isArray(e)){if(n){const t=Ae("util").inspect(r).split("\n"),n=t[0].split(":"),i=n.pop(),o=n.join(":");o&&e.unshift({file:Pe(o),line:i,column:(t[2]||"").indexOf("^")+1,sourceLine:t[1],callee:"(syntax error)",syntaxError:!0})}this.items=e}else this.items=[]}extractEntryMetadata(e){const t=this.decomposePath(e.file||""),r=t[0],n=t[1];return Ce.assign(e,{calleeShort:e.calleeShort||Oe((e.callee||"").split(".")),fileRelative:r,fileShort:this.shortenPath(r),fileName:Oe((e.file||"").split("/")),thirdParty:this.isThirdParty(r,n)&&!e.index,externalDomain:n})}shortenPath(e){return e.replace(/^node_modules\//,"").replace(/^webpack\/bootstrap\//,"").replace(/^__parcel_source_root\//,"")}decomposePath(e){let t=e;Ee&&(t=t.replace(Fe,""));const r=t.match(/^(http|https)\:\/\/?([^\/]+)\/(.*)/),n=r?r[2]:void 0;return t=r?r[3]:t,Ee||(t=Ae("path").relative(Fe,t)),[Pe(t).replace(/^.*\:\/\/?\/?/,""),n]}isThirdParty(e,t){return t||"~"===e[0]||"/"===e[0]||0===e.indexOf("node_modules")||0===e.indexOf("webpack/bootstrap")}rawParse(e){return(e||"").split("\n").map((e=>{let t,r,n,i,o=[];if((n=(e=e.trim()).match(/at (.+) \(eval at .+ \((.+)\), .+\)/))||(n=e.match(/at (.+) \((.+)\)/))||"at "!==e.slice(0,3)&&(n=e.match(/(.*)@(.*)/)))t=n[1],r="native"===n[2],o=(n[2].match(/(.*):(\d+):(\d+)/)||n[2].match(/(.*):(\d+)/)||[]).slice(1);else{if(!(i=e.match(/^(at\s+)*(.+):(\d+):(\d+)/)))return;o=i.slice(2)}if(t&&!o[0]){"Array"===t.split(".")[0]&&(r=!0)}return{beforeParse:e,callee:t||"",index:Ee&&o[0]===window.location.href,native:r||!1,file:Pe(o[0]||""),line:parseInt(o[1]||"",10)||void 0,column:parseInt(o[2]||"",10)||void 0}})).filter((e=>void 0!==e))}withSourceAt(e){return this.items[e]&&this.withSource(this.items[e])}withSourceAsyncAt(e){return this.items[e]&&this.withSourceAsync(this.items[e])}withSource(e){if(this.shouldSkipResolving(e))return e;{let t=Re(e.file||"").resolve(e);return t.sourceFile?this.withSourceResolved(e,t):e}}withSourceAsync(e){return this.shouldSkipResolving(e)?Promise.resolve(e):Re.async(e.file||"").then((t=>t.resolve(e))).then((t=>this.withSourceResolved(e,t))).catch((t=>this.withSourceResolved(e,{error:t,sourceLine:""})))}shouldSkipResolving(e){return e.sourceFile||e.error||e.file&&e.file.indexOf("<")>=0}withSourceResolved(e,t){return t.sourceFile&&!t.sourceFile.error&&(t.file=Pe(t.sourceFile.path),t=this.extractEntryMetadata(t)),t.sourceLine.includes("// @hide")&&(t.sourceLine=t.sourceLine.replace("// @hide",""),t.hide=!0),(t.sourceLine.includes("__webpack_require__")||t.sourceLine.includes("/******/ ({"))&&(t.thirdParty=!0),Ce.assign({sourceLine:""},e,t)}withSources(){return this.map((e=>this.withSource(e)))}withSourcesAsync(){return Promise.all(this.items.map((e=>this.withSourceAsync(e)))).then((e=>new ke(e)))}mergeRepeatedLines(){return new ke(xe(this.items,(e=>e.file+e.line)).map((e=>e.items.slice(1).reduce(((e,t)=>(e.callee=(e.callee||"<anonymous>")+" → "+(t.callee||"<anonymous>"),e.calleeShort=(e.calleeShort||"<anonymous>")+" → "+(t.calleeShort||"<anonymous>"),e)),Ce.assign({},e.items[0])))))}clean(){const e=this.withSources().mergeRepeatedLines();return e.filter(e.isClean.bind(e))}cleanAsync(){return this.withSourcesAsync().then((e=>(e=e.mergeRepeatedLines()).filter(e.isClean.bind(e))))}isClean(e,t){return 0===t||!(e.thirdParty||e.hide||e.native)}at(e){return Ce.assign({beforeParse:"",callee:"<???>",index:!1,native:!1,file:"<???>",line:0,column:0},this.items[e])}asTable(e){const t=e&&e.maxColumnWidths||this.maxColumnWidths(),r=(e,t)=>e&&(e.length>t?e.slice(0,t-1)+"…":e),n=this.map((e=>{return["at "+r(e.calleeShort,t.callee),(n=e.fileShort&&e.fileShort+":"+e.line||"",i=t.file,n&&(n.length>i?"…"+n.slice(-(i-1)):n)),r((e.sourceLine||"").trim()||"",t.sourceLine)];var n,i}));return Le(n.items)}maxColumnWidths(){return{callee:30,file:60,sourceLine:80}}static resetCache(){Re.resetCache(),Re.async.resetCache()}static locationsEqual(e,t){return e.file===t.file&&e.line===t.line&&e.column===t.column}}["map","filter","slice","concat"].forEach((e=>{ke.prototype[e]=function(){return new ke(this.items[e].apply(this.items,arguments))}}));var Be=u(ke),Te="__xhr",Ne=["load","loadend","timeout","error","readystatechange","abort"];function je(e,t){var r={};for(var n in e)r[n]=e[n];return r.target=r.currentTarget=t,r}var Ie=Ne[0],Ue=Ne[1],qe=Ne[2],Ge=Ne[3],De=Ne[4],ze=Ne[5],We="prototype";function Ve(e,t){if((t=t||window).__xhr)throw"Ajax is already hooked.";return function(e,t){var r=e.onRequest,n=e.onResponse,i=e.onError;function o(e,t){var r=new Ke(e),i={response:t.response||t.responseText,status:t.status,statusText:t.statusText,config:e.config,headers:e.resHeader||e.getAllResponseHeaders().split("\r\n").reduce((function(e,t){if(""===t)return e;var r=t.split(":");return e[r.shift()]=function(e){return e.replace(/^\s+|\s+$/g,"")}(r.join(":")),e}),{})};if(!n)return r.resolve(i);n(i,r)}function s(e,t,r,n){var o=new Ye(e);r={config:e.config,error:r,type:n},i?i(r,o):o.next(r)}function a(){return!0}function c(e){return function(t,r){return s(t,this,r,e),!0}}function u(e,t){return 4===e.readyState&&0!==e.status?o(e,t):4!==e.readyState&&Qe(e,De),!0}return function(e,t){function r(t){return function(){var r=this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t],n=(e[t]||{}).getter;return n&&n(r,this)||r}}function n(t){return function(r){var n=this.xhr,i=this,o=e[t];if("on"===t.substring(0,2))i[t+"_"]=r,n[t]=function(o){o=je(o,i),e[t]&&e[t].call(i,n,o)||r.call(i,o)};else{var s=(o||{}).setter;r=s&&s(r,i)||r,this[t+"_"]=r;try{n[t]=r}catch(e){}}}}function i(t){return function(){var r=[].slice.call(arguments);if(e[t]){var n=e[t].call(this,r,this.xhr);if(n)return n}return this.xhr[t].apply(this.xhr,r)}}return(t=t||window)[Te]=t[Te]||t.XMLHttpRequest,t.XMLHttpRequest=function(){for(var e=new t[Te],o=0;o<Ne.length;++o){var s="on"+Ne[o];void 0===e[s]&&(e[s]=null)}for(var a in e){var c="";try{c=typeof e[a]}catch(e){}"function"===c?this[a]=i(a):Object.defineProperty(this,a,{get:r(a),set:n(a),enumerable:!0})}var u=this;e.getProxy=function(){return u},this.xhr=e},Object.assign(t.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),t[Te]}({onload:a,onloadend:a,onerror:c(Ge),ontimeout:c(qe),onabort:c(ze),onreadystatechange:function(e){return u(e,this)},open:function(e,t){var n=this,i=t.config={headers:{}};i.method=e[0],i.url=e[1],i.async=e[2],i.user=e[3],i.password=e[4],i.xhr=t;var o="on"+De;if(t[o]||(t[o]=function(){return u(t,n)}),r)return!0},send:function(e,t){var n=t.config;if(n.withCredentials=t.withCredentials,n.body=e[0],r){var i=function(){r(n,new Xe(t))};return!1===n.async?i():setTimeout(i),!0}},setRequestHeader:function(e,t){if(t.config.headers[e[0].toLowerCase()]=e[1],r)return!0},addEventListener:function(e,t){var r=this;if(-1!==Ne.indexOf(e[0])){var n=e[1];return $e(t).addEventListener(e[0],(function(t){var i=je(t,r);i.type=e[0],i.isTrusted=!0,n.call(r,i)})),!0}},getAllResponseHeaders:function(e,t){var r=t.resHeader;if(r){var n="";for(var i in r)n+=i+": "+r[i]+"\r\n";return n}},getResponseHeader:function(e,t){var r=t.resHeader;if(r)return r[(e[0]||"").toLowerCase()]}},t)}(e,t)}function He(e){!function(e){(e=e||window)[Te]&&(e.XMLHttpRequest=e[Te]),e[Te]=void 0}(e)}function $e(e){return e.watcher||(e.watcher=document.createElement("a"))}function Qe(e,t){var r,n=e.getProxy(),i="on"+t+"_",o=je({type:t},n);n[i]&&n[i](o),"function"==typeof Event?r=new Event(t,{bubbles:!1}):(r=document.createEvent("Event")).initEvent(t,!1,!0),$e(e).dispatchEvent(r)}function Je(e){this.xhr=e,this.xhrProxy=e.getProxy()}function Ze(e){function t(e){Je.call(this,e)}return t[We]=Object.create(Je[We]),t[We].next=e,t}Je[We]=Object.create({resolve:function(e){var t=this.xhrProxy,r=this.xhr;t.readyState=4,r.resHeader=e.headers,t.response=t.responseText=e.response,t.statusText=e.statusText,t.status=e.status,Qe(r,De),Qe(r,Ie),Qe(r,Ue)},reject:function(e){this.xhrProxy.status=0,Qe(this.xhr,e.type),Qe(this.xhr,Ue)}});var Xe=Ze((function(e){var t=this.xhr;for(var r in e=e||t.config,t.withCredentials=e.withCredentials,t.open(e.method,e.url,!1!==e.async,e.user,e.password),e.headers)t.setRequestHeader(r,e.headers[r]);t.send(e.body)})),Ke=Ze((function(e){this.resolve(e)})),Ye=Ze((function(e){this.reject(e)}));const et={[t.RESOURE]:"Resource Load Failed",[t.CODE]:"Unexpected Code Error",[t.API]:"Request Failed",PROMISE:"Promise Rejected"};let tt={};function rt(e,r){const n=new Be(r).items[0];return{type:t.CODE,message:e.message||e.reason.msg||et[t.CODE],detail:{line:n.line,column:n.column,fileName:n.fileName}}}function nt(e,r){return{type:t.CODE,message:r||et.PROMISE,detail:{reason:e.reason}}}function it(e){tt.handleCodeError=r=>{r.preventDefault();let n=null;n=r.target instanceof HTMLScriptElement||r.target instanceof HTMLLinkElement||r.target instanceof HTMLImageElement?function(e){const r=e.target.src||e.target.href;return{type:t.RESOURE,message:e.message||et[t.RESOURE],detail:{url:r}}}(r):rt(r,r.error.stack),e&&e(n)},window.addEventListener("error",tt.handleCodeError,!0)}function ot(e,r){Ve({onRequest:(e,t)=>{const r=Object.assign({},{method:e.method,url:e.url,body:e.body});e.xhrData=r,t.next(e)},onResponse:(n,i)=>{const o=n.status;let s=n.config.xhrData;if(200===o)s=Object.assign(s,{response:n.response}),e&&e(s);else{const e=function(e,r){return{type:t.API,message:r||et[t.API],datail:e}}(s);r&&r(e)}i.next(n)}})}const st=window.history.pushState,at=window.history.replaceState;function ct(e,t){const n=window.history[e];return function(...i){const o=i.length>=2?i[2]:void 0;if(o){const n={type:r.ROUTER,detail:{changeType:e,from:window.location.href,to:String(o)}};t&&t(n)}return n.apply(this,i)}}class ut{onAction;onError;constructor(){this.__dispatchAction=this.__dispatchAction.bind(this),this.__dispatchError=this.__dispatchError.bind(this),this.__dispatchAPIError=this.__dispatchAPIError.bind(this)}__handlePak(e){const t=i(Date.now());return e.time=t,e}__dispatchAction(e){const t=this.__handlePak(e);this.onAction&&this.onAction(t)}__dispatchError(e){const t=this.__handlePak(e);this.onError&&this.onError(t)}__dispatchAPIError(e){const r=JSON.parse(e.data.response).code;r&&200!==r&&(e.type=t.API,this.__dispatchError(e))}init(){var e,t;c(this.__dispatchAction),e=this.__dispatchAction,window.history.pushState=ct("pushState",e),window.history.replaceState=ct("replaceState",e),it(this.__dispatchError),t=this.__dispatchError,tt.handlePromiseError=e=>{e.preventDefault();let r=null;r="string"==typeof e.reason?nt(e):e.reason.stack?rt(e,e.reason.stack):nt(e),t&&t(r)},window.addEventListener("unhandledrejection",tt.handlePromiseError),ot((e=>{!function(e,t){const n={type:r.API,data:e};t&&t(n)}(e,this.__dispatchAPIError)}),this.__dispatchError)}destory(){tt.handleCodeError&&window.removeEventListener("error",tt.handleCodeError),tt.handlePromiseError&&window.removeEventListener("unhandledrejection",tt.handlePromiseError),He(),tt=null,window.removeEventListener("click",a.handleClickEvent),a=null,window.history.pushState=st,window.history.replaceState=at}}class lt{queue=[];config;reqStack=[];isReporting=!1;constructor(e){this.config=Object.assign(this.defaultConfig,e)}get defaultConfig(){return{queueSize:10,beforePush:null}}pushAction(e){if("function"!=typeof this.config.beforePush)this.__pushAction(e);else{let t=this.config.beforePush(e);t?this.__pushAction(t):this.__pushAction(e)}}__pushAction(e){this.queue.length>=this.config.queueSize&&this.queue.shift(),this.queue.push(e)}getActions(){return[...this.queue]}idleReport(e){this.isReporting||(this.isReporting=!0,this.reqStack.push(e),requestIdleCallback((()=>{this.isReporting=!1;this.reqStack.shift()()})))}}class ht{eventMatrix=[[]];allEvents=[];start;stop;recording;rrwebStopFn;maxLength=40;constructor(t){const r=this;this.start=()=>{this.recording||(this.allEvents=[],this.recording=!0,this.stop=()=>{this.recording=!1})};let n="object"==typeof t?t:{};this.rrwebStopFn=e.record({emit(e,t){t&&(r.eventMatrix.length>=r.maxLength&&(r.eventMatrix=[]),r.eventMatrix.push([]));const n=r.eventMatrix.length-1;r.eventMatrix[n].push(e),r.recording&&r.allEvents.push(e)},checkoutEveryNms:1e3,...n})}getAllEvents(){return this.recording?[]:this.allEvents}getRecentEvents(e){const t=Math.min(this.eventMatrix.length,e),r=this.eventMatrix.length-1,n=[];for(let e=0;e<t;e++)n.push(this.eventMatrix[r-e]);return n.flat()}debugPlay(t){if(t.length>2){const r=new e.Replayer(t);r.play(),r.on("finish",(()=>{const e=document.querySelector(".replayer-wrapper");r.destroy(),e&&e.remove()}))}}destory(){this.stop(),this.rrwebStopFn(),this.eventMatrix=null,this.allEvents=null}}const dt={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},pt={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},gt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ft={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},mt={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class vt{static getFirstMatch(e,t){const r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){const r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){const n=vt.getVersionPrecision(e),i=vt.getVersionPrecision(t);let o=Math.max(n,i),s=0;const a=vt.map([e,t],(e=>{const t=o-vt.getVersionPrecision(e),r=e+new Array(t+1).join(".0");return vt.map(r.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(r&&(s=o-Math.min(n,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const r=[];let n;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r}static find(e,t){let r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){const n=e[r];if(t(n,r))return n}}static assign(e,...t){const r=e;let n,i;if(Object.assign)return Object.assign(e,...t);for(n=0,i=t.length;n<i;n+=1){const e=t[n];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{r[t]=e[t]}))}}return e}static getBrowserAlias(e){return dt[e]}static getBrowserTypeByAlias(e){return pt[e]||""}}const yt=/version\/(\d+(\.?_?\d+)+)/i,wt=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=vt.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=vt.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=vt.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=vt.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=vt.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=vt.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=vt.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=vt.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=vt.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=vt.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=vt.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=vt.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=vt.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=vt.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=vt.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=vt.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=vt.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=vt.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=vt.getFirstMatch(yt,e)||vt.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=vt.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=vt.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=vt.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=vt.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=vt.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=vt.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=vt.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=vt.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=vt.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=vt.getFirstMatch(yt,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:vt.getFirstMatch(t,e),version:vt.getSecondMatch(t,e)}}}];var _t=[{test:[/Roku\/DVP/],describe(e){const t=vt.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ft.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=vt.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ft.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=vt.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=vt.getWindowsVersionName(t);return{name:ft.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ft.iOS},r=vt.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=vt.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=vt.getMacOSVersionName(t),n={name:ft.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=vt.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ft.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=vt.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=vt.getAndroidVersionName(t),n={name:ft.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=vt.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:ft.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=vt.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||vt.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||vt.getFirstMatch(/\bbb(\d+)/i,e);return{name:ft.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=vt.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ft.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=vt.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ft.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:ft.Linux})},{test:[/CrOS/],describe:()=>({name:ft.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=vt.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ft.PlayStation4,version:t}}}],bt=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=vt.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:gt.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:gt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:gt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:gt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:gt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:gt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:gt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=vt.getFirstMatch(/(ipod|iphone)/i,e);return{type:gt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:gt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:gt.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:gt.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:gt.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:gt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:gt.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:gt.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:gt.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:gt.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:gt.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:gt.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:gt.tv})}],St=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:mt.Blink};const t=vt.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:mt.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:mt.Trident},r=vt.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:mt.Presto},r=vt.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:mt.Gecko},r=vt.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:mt.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:mt.WebKit},r=vt.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Mt{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=vt.find(wt,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=vt.find(_t,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=vt.find(bt,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=vt.find(St,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return vt.assign({},this.parsedResult)}satisfies(e){const t={};let r=0;const n={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];"string"==typeof s?(n[o]=s,i+=1):"object"==typeof s&&(t[o]=s,r+=1)})),r>0){const e=Object.keys(t),r=vt.find(e,(e=>this.isOS(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}const n=vt.find(e,(e=>this.isPlatform(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(n),t=vt.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(n[t])}}isBrowser(e,t=!1){const r=this.getBrowserName().toLowerCase();let n=e.toLowerCase();const i=vt.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r}compareVersion(e){let t=[0],r=e,n=!1;const i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(vt.compareVersions(i,r,n))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}
/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Ct{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new Mt(e,t)}static parse(e){return new Mt(e).getResult()}static get BROWSER_MAP(){return pt}static get ENGINE_MAP(){return mt}static get OS_MAP(){return ft}static get PLATFORMS_MAP(){return gt}}function Et(){const e=window.navigator.userAgent,t=Ct.parse(e),{browser:r,os:n,platform:i}=t,o=n.version?`${n.name} (${n.version})`:n.name,s=i.model?`${i.model} ${i.type}`:i.type;return{browser:`${r.name} (${r.version})`,os:o,device:s}}for(var At,Ot=256,Rt=[];Ot--;)Rt[Ot]=(Ot+256).toString(16).substring(1);class xt{actionQueue;actionTracker;recorder;extra;actionUrl;recordUrl;beforeReport;constructor(e,t){const{queueSize:r,beforePush:n,beforeReport:i}=e,{rrwebOptions:o,actionUrl:s,recordUrl:a}=e;this.actionQueue=new lt({queueSize:r,beforePush:n}),this.actionTracker=new ut,this.recorder=new ht({config:o}),this.actionUrl=s,this.recordUrl=a,this.extra=t,this.beforeReport=i}init(){this.actionTracker.init(),this.actionTracker.onAction=e=>{this.actionQueue.pushAction(e)},this.actionTracker.onError=e=>{this.actionQueue.pushAction(e),this.reportError()}}customError(e,r){const n={type:t.CODE,message:e,detail:r,time:i(Date.now())};this.actionQueue.pushAction(n),this.reportError()}reportError(){const e=function(e){var t=0,r=e||11;if(!At||Ot+r>512)for(At="",Ot=0;t<256;t++)At+=Rt[256*Math.random()|0];return At.substring(Ot,Ot+++r)}(7);this.actionQueue.idleReport((()=>{const t=Et(),r=this.actionQueue.getActions(),n=r[r.length-1],i={id:e,type:n.type,time:n.time,data:{agent:t,actions:r,sdkVersion:"1.0.0",extra:this.extra}};this.beforeReport(i),s(this.actionUrl,i,(e=>{console.log("服务器链接已关闭，上报失败",e)}));const o=this.recorder.getRecentEvents(10),a={data:JSON.stringify(o),id:e};s(this.recordUrl,a,(e=>{console.log("服务器链接已关闭，上报失败",e)}))}))}}export{xt as WebWatch};
